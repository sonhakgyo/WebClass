데이터 분석 기획 - 데이터 분석 기획의 이해
분석 기획이란?
    - 실제 분석을 수행에 앞서 분석을 수행할 과제의 정의 및 의도했던 결과를 도출할 수 있도록
      이를 적절하게 관리할 수 있는 방안을 사전에 계획하는 일련의 작업이다.
    - 어떤 목표(What)를 달성하기 위해 어떤 데이터를 가지고 어떤 방식(How)을 수행할지에 대한
      일련의 계획을 수립하는 작업이다.
    - 성공적인 분석 결과 도출을 위한 중요 사전 작업이다.
    - 해당 문제영역에 대한 전문성 역량 및 통계학적 지식을 활용한 분석 역량과 분석도구인 데이터
      및 프로그래밍 기술 역량에 대한 균형 잡힌 시각을 가지고 방향성 및 계획을 수립해야 한다.

분석 주제 유형 4가지
분석의 대상(What), 분석의 방법(How)에 따라 4가지로 구분한다.

                                  분석대상(What)
                            Known               Unknown                        
분석방법(How)   Known       최적화                 통찰
             Unknown       솔루션                 발견

    최적화(Optimization) 
        분석대상 및 분석방법을 이해하고 현 문제를 최적화의 형태로 수행한다.
    솔루션(Solution) 
        분석과제는 수행되고, 분석방법을 알지 못하는 경우 솔루션은 찾는 방식으로 분석과제를 수행한다.
    통찰(Insight)
        분석대상이 불분명하고, 분석방법을 알고 있는 경우 인사이트를 도출한다.
    발견(Discovery)
        분석대상, 분석방법을 모른다면 발견을 통해 분석대상 자체를 새롭게 도출한다. 


목표시점별 분석기획 방안
과제 중심적인 접근방식의 단기방안, 마스터플랜 단위의 중장기 방안으로 구분한다.
    과제 단위 당면한 분석주제의 해결
                1차 목표    : Speed & Test
                과제의 유형 : Quick & Win
                접근 방식   : Problem Solving

    마스터플랜 단위 지속적 분석문화 내재화
                1차 목표    : Accuracy & Deploy
                과제의 유형 : Long Term View
                접근 방식   : Problem Definition
        
        * Quick Win : 즉각적인 실행을 위한 성과 도출
                      프로세스 진행과정에서 일반적인 상식과 경험으로 원인이 명백한 경우,
                      바로 개선함으로써 과제를 단기로 달성하고 추진하는 과정

분석기회 시 고려사항
가용한 데이터, 적절한 유스케이스 탐색, 장애 요소들에 대한 사전계획을 수립한다.
    가용한 데이터
        - Available Data
        - 분석을 위한 데이터 확보한다.
        - 데이터 유형에 따라 적용가능한 솔루션 및 분석방법이 다르다.
        - 데이터의 유형 분석이 선행적으로 이루어져야 한다(정형, 비정형, 반정형).
    적절한 유스케이스 탐색
        - Proper Use-Case
        - 유사분석 시나리오 및 솔루션이 있다면 이것을 최대한 활용한다.
    장애 요소들에 대한 사적계획 수립
        - Low Barrier of Execution
        - 장애 요소들에 대한 사전계획 수립이 필요하다.
        - 일회성 분석으로 그치지 않고 조직 역량을 내재화하기 위해서는 충분하고 지속적인 교육 및
          활용방안 등의 변화 관리가 고려되어야 한다.


데이터 유형, 저장 방식 
데이터를 유형으로 분류하면 정형, 비정형, 반정형 데이터로 분류할 수 있다.
    정형 데이터 : ERP, CRM Transation Data, Demand Forecast
    반정형 데이터 : Competitor Pricing, Sensor, Machine Data
    비정형 데이터 : E-mail, SNS, Voice, IoT, 보고서, News

데이터 저장 방식
    RBD : 관계형 데이터를 저장, 수정, 관리할 수 있게 해주는 데이터베이스
          예: Oracle, MSSQL, MySQL 등

    NoSQL : 비관계형 데이터 저장소
            예: MongoDB, Cassandra, Hbase, Redis

    분산파일시스템 : 분산된 서버의 디스크에 파일 저장
                    예: HDFS


분석방법론 개요
    분석방법론 필요
        데이터 분석을 효과적으로 기업에 정착하기 위해 데이터 분석을 체계화하는 절차와 방법이
        정리된 데이터 분석방법론 수립이 필요하다.
    분석방법론 구성요소
        - 상세한 절차
        - 방법
        - 도구와 기법
        - 템플릿과 산출물
    기업의 합리적 의사결정 장애요소
        - 고정관념
        - 편향된 생각
        - 프레이밍 효과(Framing Effect)
        * Framing Effect : 동일한 사건이나 상황임에도 불구하고 사람들의 선택이나 판단이 
                           달라지는 현상으로, 특정 사안을 어떤 시각으로 바라보느냐에 따라
                           해석이 달라진다는 이론

분석방법론의 모델 세(3)가지
    폭포수 모델
        - 단계를 순차적으로 진행하는 방법
        - 이전 단계가 완료되어야 다음 단계로 순차 진행하는 '하향식 진행'
        - 문제점이 발견되면 이전 단계로 돌아가는 피드백 수행?
    나선형 모델 
        - 반복을 통해 점증적으로 개발
        - 반복에 대한 관리 체계가 효과적으로 갖춰지지 못한 경우 복잡도가 상승하여 프로젝트
          진행이 어려울 수 있다.
    프로토타입 모델 
        - 신속하게 해결책 모형을 제시하고 '상향식 접근 방법'에 활용한다.
        - 프로토타입을 보고 완성시킨 결과물을 통해 가설을 확인할 수 있다.
        - 특정 가설을 갖고 서비스를 설계하고 디자인에 대한 실험도 실행한다.
        - '이렇게 만들면 사용자들이 편하게 사용할 거야'라는 가설을 생성하게 된다.
        - 일단 분석을 시도해보고 그 결과를 확인해가면서 반복적으로 개선해나가는 방법이다.
        - '정보시스템의 미완성 버젼 또는 중요한 기능들이 포함되어 있는 시스템의 초기 모델'
        - 시제품이 나오기 전 제품의 원형으로 개발 검증과 양산 검증을 거쳐야 시제품이 될 수 있다.
        - 사용자 요구사항인 데이터를 정확히 규정하기 어렵고 데이터 소스도 명확히 파악하기 
          어려운 상황에서 사용한다.

KDD(Knowledge Discovery in Databse) 분석방법론
데이터베이스에서 의미 있는 지식을 탐색하는 데이터 마이닝 프로세스
    00.분석대상의 비즈니스 도메인에 대한 이해와 프로젝트 목표를 정확하게 설정
    01.데이터 셋 선택(준비)
    02.데이터 전처리
        데이터 셋에 포함되어 있는 잡음(Nosie), 이상값(Outlier), 결측치(Missing Value)를
        식별하고 필요 시 제거한다.
    03.데이터 변환
        분석 목적에 맞는 변수를 선택하고, 데이터의 차원으을 축소한다.
        데이터 마이닝을 효율적으로 적용할 수 있도록 데이터셋 변경작업을 한다.
    04.데이터 마이닝
        분석 목적에 맞는 데이터 마이닝 기법 및 알고리즘을 선택한다.
        데이터의 패턴을 찾거나 분류 또는 예측 등의 마이닝 작업을 시행한다.
    05.데이터 마이닝 결과평가
        분석 결과에 대한 해석과 평가, 활동, Interpretation/Evaluation


CRISP-DM(Cross-Industry Standard Process for Data Mining) 분석방법론
6단계로 구성, 일방향으로 구성되어 있지 않고 단계간 피드백을 통하여 단계별 완성도를 높이게 구성
    6단계 : 업무 이해 -> 데이터 이해 -> 데이터 준비 -> 모델링 -> 평가 -> 전개
    01. 업무 이해(Business Understanding)
        - 비즈니스 관점 프로젝트의 목적과 요구사항을 이해하기 위한 단계다.
        - 도메인 지식을 데이터 분석을 위한 문제 정의로 변경하고, 초기 프로젝트 계획 수립 단계
        - 업무 목적 파악 - 상황 파악 - 데이터 마이닝 목표 설정 - 프로젝트 계획 수립  
    02. 데이터 이해(Data Understanding)
        - 분석을 위한 데이터 수집, 데이터 속성 이해를 위한 과정이다.
        - 데이터 품질에 대한 문제점 식별 및 숨겨져 있는 인사이트를 발견하는 단계다.
        - 초기 데이터 수집, 데이터 기술 분석, 데이터 탐색, 데이터 품질 확인
    03. 데이터 준비(Data Preparation)
        - KDD의 Transformation == CRISP-DM 분석방법론의 데이터를 준비한다.
        - 분석을 위해 수집된 데이터에서 분석기법에 적합한 데이터셋을 편성하는 단계이다.
        - 많은 시간이 소요될 수 있다.
        - 분석용 데이터셋 선택, 데이터 정제, 데이터 통합, 데이터 포맷팅
    04. 모델링(Modeling)
        - 다양한 모델링 기법과 알고리즘을 선택한다.
        - 모델링 과정에서 사용되는 파라미터(변수)를 최적해나가는 단계이다.
        - 모델링 단계를 통해 찾아낸 모델은 테스트용 프로세스와 데이터셋으로 평가하여 
          모델 과적합(Overfitting) 등의 문제를 발견하고 대응 방안을 마련한다.
        - 데이터 분석방법론, 머신러닝을 이용한 수행 모델을 만들거나 데이터를 분할하는 부분이다.
        - 모델링 기법 선택, 모델링 작성, 모델 평가
    05. 평가(Evaluation)
        - 모델링 단계에서 얻은 모델이 프로젝트의 목적에 부합하는지 평가한다.
        - 데이터 마이닝 결과를 수용할 것인지 최종적으로 판단하는 과정이다.
        - 분석 결과 평가, 모델링 과정 평가, 모델 적용성 평가
    06. 전개(Deployment)
        - 완성된 모델을 실제 업무에 적용하기 위한 계획을 수립한다.
        - 전개 계획 수립, 모니터링과 유지보수 계획 수립, 프로젝트 종료 보고서 작성
          프로젝트 리뷰

            ＠
            모델 평가는 '모델링'단계
            모델링 과정 평가와 모델 적용성 평가는 '평가'단계

            KDD의 데이터셋 준비, 데이터 전처리는 CRISP-DM의 데이터 이해 
            KDD의 데이터 변환은 CRISP-DM의 데이터 준비화 관련있는 단계다.


빅데이터 분석 방법론 
    01.분석 기획
        - 비즈니스 이해 및 범위 설정
        - 프로젝트 정의 및 계획 수립
        - 프로젝트 위험계획 수립
    02.데이터 준비
        - 필요데이터 정의
        - 데이터 스토어 설계
        - 데이터 수집 및 적합성 점검
    03.데이터 분석
        - 분석용 데이터 준비
        - 텍스트 분석
        - 탐색적 분석
        - 모델링
        - 모델 평가 및 검증
    04.시스템 구현
        - 설계 및 구현
        - 시스템 테스트 및 운영
    05.평가 및 전개
        - 모델 발전 계획
        - 프로젝트 평가 보고
        - 평가 및 전개

    01.분석 기획(Planning) 단계의 Task
        1).비즈니스 이해 및 범위 설정
            A.비즈니스 이해 
                분석대상인 업무 도메인을 이해하기 위해 내부 업무 매뉴얼과 관련 자료, 외부의 관련
                비즈니스 자료 조사 및 프로젝트 진행을 위한 방향 설정
            B.프로젝트 범위 설정
                - 프로젝트 목적에 부합하는 범위를 명확히 설정
                - 프로젝트에 참여한느 관계자들의 이해를 일치시키기 위하여 구조화된 프로젝트 범위
                  정의서 SOW(Statement of Work)를 작성

        2).프로젝트 정의 및 계획 수립
            A.데이터 분석 프로젝트 정의
                상세 프로젝트 정의서 작성, 프로젝트의 목표를 명확화하기 위해 모델 이미지 및 
                평가 기준 설정
            B.프로젝트 수행 계획 수립
                - 프로젝트 수행 계획서 작성, 프로젝트의 목적, 배경, 기대효과, 수행방법 및 일정
                  및 추진 조직 WBS 작성
                - WBS : Work Breakdown Structure, 작업 분할 구조도
                  * WBS : 전체 업무를 분류하여 구성요소로 만든 후 각 요소를 평가하고 일정별로
                          계획하며 그것을 완수할 수 있는 사람에게 할당해주는 역할

        3).프로젝트 위험 계획 수립
            A.데이터 분석 위험 식별
            B.계획수립 단계에서 빅데이터 분석 프로젝트를 진행하면서 발생가능한 모든 위험을 식별함
            C.위험에 대한 대응방법
                회피(Avoid), 전이(Transfer), 완화(Mitigate), 수용(Accept)


    02.데이터 준비(Preparing) 단계
        1).필요데이터 정의
            A.데이터 정의
                - 정형, 비정형, 반정형 등의 모든 내부/외부 데이터를 포함하고 데이터의 속성,
                  데이터 오너, 데이터 관련 시스템 담당자 등을 포함하는 데이터 정의서 작성
                  예: 메타데이터 정의서, ERD(Entity Relationship, Diagram) 작성
            B.데이터 획득 방안 수립
                - 내부 데이터 : 부서 간 업무 협조와 개인정보보호 및 정보보안과 관련한 문제점을
                               사전에 점검
                - 외부 데이터 : 시스템 간 다양한 인터페이스 및 법적인 문제점을 고려하여 상세한
                               계획 수립

        2).데이터 스토어 설계
            A.정형 데이터 스토어 설계
                관계형 데이터베이스(RDBMS)를 사용하고, 데이터의 효율적 저장과 활용을 위해
                데이터 스토어의 논리적, 물리적 설계를 구분하여 설계한다.
            B.비정형 데이터 스토어 설계
                하둡, NoSQL 등을 이용하여 비정형 또는 반정형 데이터를 저장하기 위한 논리, 
                물리적 데이터 스토어를 설계한다.
        3).데이터 수집 및 정합성 점검
        * 정합성 : 공리적인 논리 체계에서 우선 필요로 하는 요건으로, 공리계에 논리적 모순이 없는 것. 또는 그 공리계에서 모순된 명제를 이끌어 낼 수 없는 성질이나 상태
            A.데이터 수집 및 저장
                - 크롤링 등의 데이터 수집을 위한 'ETL' 등의 다양한 도구와 'API', 스크립트
                  프로그램 등으로 데이터를 수집한다.
                  * ETL(Extract Transformation Loading)
                        다양한 데이터를 취합해 데이터를 추출하고 하나의 공통된 포맷으로 변환해
                        데이터 웨어하우스나 데이터 마트 등에 적재하는 과정을 지원하는 도구
                  * API(Application Programming Interface)
                        라이브러리에 접근하기 위한 규칙들을 정의한 것
                - 수집된 데이터를 설계된 데이터 스토어에 저장한다. 
            B.데이터 정합성(무결성) 점검 
                - 데이터 스토어의 품질 점검을 통해 데이터의 정합성 확보
                - 데이터 품질 개선이 필요한 부분에 대해 보완작업 진행

                
    03.데이터 분석 단계
    분석용 데이터를 이용한 가설 설정을 통해 통계모델을 만들거나 기계학습을 이용한 데이터의
    분류, 예측, 군집 등의 기능을 수행하는 과정
    
    분석용 데이터 준비 -> 텍스트 분석 -> 탐색적 분석(EDA) -> 모델링 -> 모델평가 및 검증

    @
    분석 기획
    데이터 준비 ─┐
                추가적 데이터 확보가 필요한 경우, '반복적인 피드백'을 수행하는 공간
    데이터 분석 ─┘  


분석 과제 도출 방법
    01.하향식 접근방법
        - 문제가 확실할 때 사용한다. 문제가 주어지고 해법을 찾기 위해 사용한다.

    02.상향식 접근방법
        - 문제의 정의 자체가 어려운 경우 사용한다.

    03.디자인 사고, 씽킹(Design Thinking)
        - 중요한 의사결정 시 상향식과 하향식을 반복적으로 사용한다.
        - 기존의 논리적인 단계별 접근법에 기반한 문제해결 방식은 최근 복잡하고 다양한 환경에서
          발생하는 문제에 적합하지 않을 수 있다.
        - "디자인 사고" 접근법을 통해 전통적인 분석적 사고를 극복하려 한다.
        - 상향식 방식의 발산(Diverge) 단계와 도출된 옵션을 분석하고 검증하는 
          하향식 접근방식의 수렴(Converse) 단계를 반복하여 과제를 발굴한다. 


하향식 접근방식(Top - Down Aproach)의 데이터 분석기획 단계
    01.문제 탐색(Problem Discovery)
        - 비즈니스 모델 기반 문제 탐색
        - 외부 참조 모델 기반 문제 탐색
        - 분석 유스케이스
    02.문제 정의(Problem Definition)
        - 데이터 분석 문제 변환
    03.해결방안 탐색(Solution Search)
        - 수행 옵션 도출 
    04.타당성 검토(Feasibility Study)
        - 타당성 평가 --> 과제 선정


    01.문제 탐색 단계
        비즈니스 모델 기반 문제 탐색    
            - 비즈니스 모델 캔버스를 활용하여 가치가 창출될 문제를 누락없이 도출할 수 있다.
            - 해당 기업의 사업 모델을 도식화한 비즈니스 모델 캔버스 블록을 단순화하여 업무, 제품
              고객 단위로 문제를 발굴하고 이를 관리하는 지원 인프라, 규제와 감사 영역에 대한
              기회를 추가로 도출하는 작업을 수행한다.
            - 비즈니스 모델 캔버스의 5가지 영역 :
                                            업무
                                            제품
                                            고객
                                            지원 인프라
                                            규제와 감사
        분석 기회 발굴의 범위 확장
            - 거시적 관심의 요인 : STEEP - 사회, 기술, 경제, 환경, 정치 영역
            - 경쟁자 확대 관점 : 대체재 영역, 경쟁자 영역, 신규진입자 영역
            - 시장의 니즈 탐색 : 고객(소비자) 영역, 채널 영역, 영향자들 영역
            - 역량의 재해석 관점 : 내부역량 영역, 파트너 네트워크 영역
        외부 참조 모델 기반 문제 탐색
            - 유사/동종 사례 벤치마킹을 통한 분석 기회 발굴한다.
            - 제공되는 산업별, 업무 서비스별 분석 테마 후보 그룹을 통해 Quick&Easy 방식으로
              필요한 분석 기회가 무엇인지에 대한 아이디어를 얻고 기업에 적용할 분석 테마 후보
              목록을 빠르게 도출한다.
        분석 유즈 케이스? 유스케이스?
            - 풀어야할 문제에 대한 상세설명 및 해당문제를 해결했을 때 발생하는 효과를 명시한다.
            - 향후 데이터 분석 문제로의 전환 및 적합성 평가에 활용한다.

    @
    문제 탐색 단계 - 무엇을 어떤 목적으로 수행해야 하는지에 관점을 둔다.
    문제 정의 단계 - 달성을 위해 필요한 데이터 및 기법을 정의하기 위한 데이터 분석 문제로 변환을
                    수행한다.

    02.문제 정의 단계
        식별된 비즈니스 문제를 데이터의 문제로 변환하여 정의하는 단계

    03.해결방안 탐색
        어떤 데이터 또는 분석 시스템을 사용할 것인지 검토하는 단계
            - 데이터 및 분석 시스템에 따라 소요되는 예산 및 활용 가능 도구가 다르다.

    04.타당성 검토 단계
            - 경제적 타당도 : 비용 대비 편익 분석 관점의 접근
            - 데이터 및 기술적 타당도 : 데이터 존재 여부, 분석 시스템 환경, 분석 역량


상향식 접근방식(Bottom Up Approach)
    - 문제의 정의 자체가 어려운 경우 상향식 접근방식을 사용한다.
    - 데이터를 기반으로 문제의 재정의 및 해결방안을 탐색하고 이를 지속적으로 개선하는 방식이다.
    - 상향식 접근방식의 데이터 분석은 비지도 학습방법에 의해 수행된다.
    - '디자인 사고'의 발산 단계에 해당한다.
    - 인사이트 도출 후 반복적인 시행착오를 통해 수정하며 문제를 도출하는 일련의 과정이다.

-

지도 학습 vs 비지도 학습
    지도 학습(Supervised Learning)
        - 명확한 인풋, 아웃풋이 존재한다.
        - 예측 : 데이터를 대표하는 선형모델 등을 만들고 그 모델을 통해 미래의 사건을 예측한다.
        - 분류 : 이전까지 학습된 데이터를 근거로 새로운 데이터가 기존에 학습된 데이터에 분류 여부

    비지도 학습(Unsupervised Learning)
        - 컴퓨터가 알아서 분류하고, 의미 있는 값을 보여준다.
        - 데이터가 어떻게 구성되어 있는지 밝히는 용도로 사용한다.
        - 군집화*Clustering

-

분석 프로젝트의 특징
    - 분석 프로젝트는 다른 프로젝트 유형처럼 범위, 일정, 품질, 리스크, 의사소통 등 영역별 관리가
      수행되어야 한다.
    - 다양한 데이터에 기반한 분석 기법을 적용하는 특성 때문에 5가지 주요 특성을 고려하여 추가적 
      관리가 필요하다.
        └─ 분석 과제 주요 특성에는 Data Size, Data Complexity, Speed, Analytic Complexity,
           Accuracy & Precision 등이 있다.
    - 분석 프로젝트는 도출된 결과의 재해석을 통한 지속적인 반복 및 정규화가 수행되기도 한다.

    분석 과제의 5가지 주요 특성 관리 영역 
        (1). Data Size 데이터 크기
            분석하고자 하는 데이터의 양을 고려하는 관리방안 수립이 필요하다.
        (2). Data Complexity 데이터 복잡성
            비정형 데이터 및 다양한 시스템에 산재되어 있는 데이터들을 통합해서 분석 프로젝트를
            진행할 때는 해당 데이터에 잘 적용될 수 있는 분석모델 선정에 대한 고려가 필요하다.
        (3). Speed 속도 
            - 분석결과 도출 후, 활용하는 시나리오 측면에서 일, 주 단위 실적은 배치 형태작업, 사기
              탐지, 서비스 추천은 실시간으로 수행되어야 한다.
            - 분석모델의 성능 및 속도를 고려한 개발 및 테스트가 수행되어야 한다.
        (4). Analytic Complexity 분석 복잡성
            - 정확도(Accuracy)와 복잡도(Complexity)는 트레이드 오프 관계가 존재한다.
            - 분석모델이 복잡할수록 정확도는 올라가지만 해석이 어려워진다.
            - 기준점을 사전에 정의해두어야 한다.
        (5). Accuracy & Precision 정확성 & 예측
            - 분석의 활용적인 측면(모델과 실제값의 차이)에서는 Accuracy가 중요하다.
            - 분석의 안정적 측면(모델을 반복했을 때의 편차)에서는 Precision가 중요하다.
            - Accuracy, Precision은 트레이드 오프인 경우가 많다.
            - 모델의 해석 및 적용 시 사전에 고려해야 한다.

-

10개 주제별 프로젝트 관리 체계
'분석 프로젝트의 경우 관리 영역'에서 일반 프로젝트와 다르게 유의해야 할 요소가 존재한다.
    (1).시간
            프로젝트 활동의 일정을 수립, 일정 통제의 진척 상황 관찰
    (2).범위
            작업과 인도물을 식별하고 정의하는 데에 요구되는 프로세스
    (3).품질
            품질보증과 품질통제를 계획하고 확립하는 데에 요구되는 프로세스 
    (4).통합 
            프로젝트와 관련된 다양한 활동과 프로세스를 도출, 정의, 결합, 단일화, 조정,
            통제, 종료에 필요한 프로세스
    (5).이해관계자
            프로젝트 스폰서, 고객사, 기타 이해관계자 식별, 관리에 필요한 프로세스
    (6).자원
            인력, 시설, 장비, 자재, 기반시설, 도구와 같은 적절한 프로젝트 자원을 식별하고
            확보하는 데에 필요한 프로세스
    (7).원가
            개발 예산과 원가 통제의 진척 상황을 관찰하는 데에 요구되는 프로세스
    (8).리스크  
            위험과 기회를 식별하고 관리하는 프로세스
    (9).조달
            계획에 요구된 프로세스를 포함하며, 제품 및 서비스 또는 인도물을 인수하고 공급자와의
            관계를 관리하는 데에 요구되는 프로세스
    (10).의사소통
            프로젝트와 관련된 정보를 계획, 관리, 배포하는 데에 요구되는 프로세스


